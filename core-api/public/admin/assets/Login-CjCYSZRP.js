import{r as e,a,c as l,o as s,b as o,d as r,e as d,w as i,f as n,u as t,g as u,h as c,E as p}from"./index-CloVKrZX.js";import{u as g}from"./index-kOU_toHu.js";import{_ as m}from"./_plugin-vue_export-helper-DZWByd4S.js";const v={class:"login-container"},f={class:"login-card"},w=m({__name:"Login",setup(m){const w=t(),_=g(),h=e(null),y=e(!1),b=a({username:"",password:""}),x={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},V=async()=>{if(await h.value.validate().catch(()=>!1)){y.value=!0;try{const e=await _.login(b);0!==e.code&&200!==e.code||(p.success("登录成功"),w.push("/dashboard"))}catch(e){console.error(e)}finally{y.value=!1}}};return(e,a)=>{const t=n("el-input"),p=n("el-form-item"),g=n("el-button"),m=n("el-form");return s(),l("div",v,[a[4]||(a[4]=o('<div class="bg-glow" data-v-9ce832e4><div class="glow-item glow-1" data-v-9ce832e4></div><div class="glow-item glow-2" data-v-9ce832e4></div><div class="glow-item glow-3" data-v-9ce832e4></div><div class="glow-item glow-4" data-v-9ce832e4></div></div>',1)),r("div",f,[a[3]||(a[3]=r("div",{class:"login-header"},[r("div",{class:"logo"},[r("span",{class:"logo-icon"},"醒")]),r("h1",null,"醒美闪图"),r("p",null,"后台管理系统")],-1)),d(m,{ref_key:"formRef",ref:h,model:b,rules:x,class:"login-form"},{default:i(()=>[d(p,{prop:"username"},{default:i(()=>[d(t,{modelValue:b.username,"onUpdate:modelValue":a[0]||(a[0]=e=>b.username=e),placeholder:"请输入用户名","prefix-icon":"User",size:"large"},null,8,["modelValue"])]),_:1}),d(p,{prop:"password"},{default:i(()=>[d(t,{modelValue:b.password,"onUpdate:modelValue":a[1]||(a[1]=e=>b.password=e),type:"password",placeholder:"请输入密码","prefix-icon":"Lock",size:"large","show-password":"",onKeyup:u(V,["enter"])},null,8,["modelValue"])]),_:1}),d(p,null,{default:i(()=>[d(g,{type:"primary",size:"large",loading:y.value,class:"login-btn",onClick:V},{default:i(()=>[...a[2]||(a[2]=[c(" 登 录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}},[["__scopeId","data-v-9ce832e4"]]);export{w as default};
