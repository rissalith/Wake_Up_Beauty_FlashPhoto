<!-- ç»“æœå±•ç¤ºå­ç»„ä»¶ -->
<view class="result-card" animation="{{animationData}}" wx:if="{{result}}">
  <!-- æˆè¯­ç»“æœ -->
  <block wx:if="{{drawType === 'phrase'}}">
    <view
      class="result-phrase {{animationClass}} {{!dynamicCardStyle && showRarity && result.rarity ? getRarityClass(result.rarity) : ''}}"
      style="{{dynamicCardStyle}}"
    >
      <text class="phrase-text" style="{{dynamicTextStyle}}">{{result.phrase}}</text>
      <text class="phrase-en" wx:if="{{result.phrase_en}}">{{result.phrase_en}}</text>
      <view class="phrase-rarity" wx:if="{{showRarity && result.rarity}}">
        <text
          class="rarity-tag {{!dynamicBadgeStyle ? getRarityClass(result.rarity) : ''}}"
          style="{{dynamicBadgeStyle}}"
        >{{getRarityText(result.rarity)}}</text>
      </view>
    </view>
  </block>

  <!-- é©¬å“çº§ç»“æœ -->
  <block wx:else>
    <view
      class="result-horse {{animationClass}} {{!dynamicCardStyle ? getRarityClass(result.grade_key) : ''}}"
      style="{{dynamicCardStyle}}"
    >
      <image class="horse-image" src="{{result.image}}" mode="aspectFit" wx:if="{{result.image}}"></image>
      <view class="horse-placeholder" wx:else>
        <text class="horse-icon">ğŸ´</text>
      </view>
      <text class="horse-name" style="{{dynamicTextStyle}}">{{result.name}}</text>
      <view class="horse-rarity" wx:if="{{showRarity}}">
        <text
          class="rarity-tag {{!dynamicBadgeStyle ? getRarityClass(result.grade_key) : ''}}"
          style="{{dynamicBadgeStyle}}"
        >{{getRarityText(result.grade_key)}}</text>
      </view>
      <text class="horse-desc" wx:if="{{result.description}}">{{result.description}}</text>
    </view>
  </block>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <view class="btn-confirm" bindtap="onConfirm" wx:if="{{showConfirm}}">
      <text>ç¡®è®¤é€‰æ‹©</text>
    </view>
    <view class="btn-reroll" bindtap="onReroll" wx:if="{{showReroll}}">
      <text>å†æ‘‡ä¸€æ¬¡</text>
      <text class="reroll-cost" wx:if="{{freeCount <= 0}}">ï¼ˆ{{costPerRoll}}é†’å¸ï¼‰</text>
      <text class="reroll-free" wx:else>ï¼ˆå…è´¹ï¼‰</text>
    </view>
  </view>
</view>
