<!-- ç»“æœå±•ç¤ºå­ç»„ä»¶ -->
<view class="result-card" animation="{{animationData}}" wx:if="{{result}}">
  <!-- æˆè¯­ç»“æœ -->
  <block wx:if="{{drawType === 'phrase'}}">
    <view class="result-phrase {{showRarity && result.rarity ? getRarityClass(result.rarity) : ''}}">
      <text class="phrase-text">{{result.phrase}}</text>
      <text class="phrase-en" wx:if="{{result.phrase_en}}">{{result.phrase_en}}</text>
      <view class="phrase-rarity" wx:if="{{showRarity && result.rarity}}">
        <text class="rarity-tag {{getRarityClass(result.rarity)}}">{{getRarityText(result.rarity)}}</text>
      </view>
    </view>
  </block>

  <!-- é©¬å“çº§ç»“æœ -->
  <block wx:else>
    <view class="result-horse {{getRarityClass(result.grade_key)}}">
      <image class="horse-image" src="{{result.image}}" mode="aspectFit" wx:if="{{result.image}}"></image>
      <view class="horse-placeholder" wx:else>
        <text class="horse-icon">ğŸ´</text>
      </view>
      <text class="horse-name">{{result.name}}</text>
      <view class="horse-rarity" wx:if="{{showRarity}}">
        <text class="rarity-tag {{getRarityClass(result.grade_key)}}">{{getRarityText(result.grade_key)}}</text>
      </view>
      <text class="horse-desc" wx:if="{{result.description}}">{{result.description}}</text>
    </view>
  </block>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <view class="btn-confirm" bindtap="onConfirm" wx:if="{{showConfirm}}">
      <text>ç¡®è®¤é€‰æ‹©</text>
    </view>
    <view class="btn-reroll" bindtap="onReroll" wx:if="{{showReroll}}">
      <text>å†æ‘‡ä¸€æ¬¡</text>
      <text class="reroll-cost" wx:if="{{freeCount <= 0}}">ï¼ˆ{{costPerRoll}}é†’å¸ï¼‰</text>
      <text class="reroll-free" wx:else>ï¼ˆå…è´¹ï¼‰</text>
    </view>
  </view>
</view>
