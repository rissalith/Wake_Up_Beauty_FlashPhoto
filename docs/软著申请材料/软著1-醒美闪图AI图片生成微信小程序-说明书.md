# 醒美闪图AI图片生成微信小程序 软件说明书

## 一、软件基本信息

- **软件全称**：醒美闪图AI图片生成微信小程序软件
- **软件简称**：醒美闪图小程序
- **版本号**：V1.0
- **开发完成日期**：2026年1月
- **软件分类**：应用软件/移动应用
- **运行平台**：微信小程序平台（iOS/Android）
- **开发语言**：JavaScript
- **软件规模**：约15000行代码

---

## 二、软件概述

### 2.1 软件背景

随着人工智能技术的快速发展，AI图片生成技术已经能够实现高质量的图像创作和风格转换。本软件旨在将先进的AI图片生成技术与微信小程序平台相结合，为用户提供便捷的AI艺术照片生成服务，包括证件照制作、艺术风格转换、场景合成等功能。

### 2.2 软件目的

本软件的主要目的是：
1. 为用户提供便捷的AI图片生成服务
2. 支持多种场景和风格的照片生成
3. 提供完整的积分系统和用户管理功能
4. 实现社交裂变的邀请奖励机制

### 2.3 软件功能概述

本软件主要包含以下功能模块：
- 用户认证与管理模块
- AI图片生成模块
- 场景选择与配置模块
- 积分管理模块
- 照片历史管理模块
- 邀请奖励模块
- 多语言支持模块

---

## 三、运行环境

### 3.1 硬件环境

- **客户端**：支持微信小程序的智能手机（iOS 10.0+/Android 5.0+）
- **服务端**：Linux服务器（2核4G以上配置）

### 3.2 软件环境

- **客户端**：微信客户端 7.0.0 及以上版本
- **服务端**：Node.js 18.x、Redis 7.x、SQLite 3.x
- **网络**：需要互联网连接

---

## 四、功能详细说明

### 4.1 用户认证与管理模块

#### 4.1.1 微信授权登录

用户通过微信授权方式登录小程序，系统自动获取用户的OpenID和UnionID，实现用户身份识别和跨平台用户关联。

**主要功能**：
- 微信一键授权登录
- 用户信息自动获取
- 登录状态持久化管理
- 多设备登录同步

#### 4.1.2 用户信息管理

支持用户查看和编辑个人信息，包括昵称、头像等基本信息的管理。

**主要功能**：
- 用户信息展示
- 头像昵称修改
- 隐私协议签署
- 用户协议确认

### 4.2 AI图片生成模块

#### 4.2.1 场景选择

系统提供多种预设场景供用户选择，每个场景包含不同的风格和参数配置。

**支持的场景类型**：
- 证件照生成（一寸照、二寸照等）
- 艺术风格转换
- 场景合成
- 人像美化

#### 4.2.2 图片上传与处理

用户可以从相册选择照片或使用相机拍摄，系统对上传的图片进行预处理和安全检查。

**主要功能**：
- 相册图片选择
- 相机实时拍摄
- 图片压缩优化
- 图片安全检测
- 敏感内容过滤

#### 4.2.3 AI生成处理

调用后端AI服务对用户上传的图片进行智能处理，生成符合所选场景风格的新图片。

**技术特点**：
- 基于深度学习的图像生成
- 支持多种风格模板
- 实时生成进度反馈
- 高质量图片输出

#### 4.2.4 结果展示与保存

生成完成后，用户可以预览生成结果，支持保存到相册或分享给好友。

**主要功能**：
- 生成结果预览
- 高清图片下载
- 保存到系统相册
- 分享到微信好友/朋友圈

### 4.3 积分管理模块

#### 4.3.1 积分获取

用户可以通过多种方式获取积分：

| 获取方式 | 积分数量 | 说明 |
|---------|---------|------|
| 新用户注册 | 50积分 | 首次注册赠送 |
| 每日登录 | 2积分 | 每日首次登录 |
| 邀请好友 | 10积分 | 每成功邀请一人 |
| 积分充值 | 按套餐 | 购买积分套餐 |

#### 4.3.2 积分消费

用户使用积分进行AI图片生成服务：

| 服务类型 | 消费积分 | 说明 |
|---------|---------|------|
| 证件照生成 | 50积分 | 标准证件照 |
| 艺术照生成 | 80积分 | 艺术风格转换 |
| 高级场景 | 100积分 | 复杂场景合成 |

#### 4.3.3 积分记录

系统完整记录用户的积分变动历史，支持按时间和类型筛选查看。

### 4.4 照片历史管理模块

#### 4.4.1 历史记录查看

用户可以查看所有已生成的照片历史，按时间倒序排列展示。

**展示信息**：
- 生成时间
- 使用场景
- 原始照片缩略图
- 生成结果缩略图
- 消费积分数

#### 4.4.2 照片管理操作

支持对历史照片进行管理操作：
- 查看大图
- 重新下载
- 删除记录
- 再次生成

### 4.5 邀请奖励模块

#### 4.5.1 邀请链接生成

用户可以生成专属邀请链接或邀请码，分享给好友。

#### 4.5.2 邀请统计

展示用户的邀请成果：
- 已邀请人数
- 获得奖励积分
- 邀请记录列表

### 4.6 多语言支持模块

系统支持中文和英文两种语言，用户可以根据需要切换界面语言。

**支持语言**：
- 简体中文（默认）
- English

---

## 五、系统架构

### 5.1 整体架构

```
┌─────────────────────────────────────────┐
│           微信小程序客户端               │
│  ┌─────────────────────────────────┐   │
│  │         页面层 (Pages)           │   │
│  │  首页 | 场景 | 历史 | 我的 | 充值  │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │        组件层 (Components)       │   │
│  │  导航栏 | 登录弹窗 | 隐私弹窗     │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │        工具层 (Utils)            │   │
│  │  认证 | AI服务 | 配置 | 安全检查  │   │
│  └─────────────────────────────────┘   │
└─────────────────────────────────────────┘
                    │
                    ▼
┌─────────────────────────────────────────┐
│              后端服务                    │
│  用户API | 积分API | 照片API | AI服务    │
└─────────────────────────────────────────┘
```

### 5.2 技术架构

- **前端框架**：微信小程序原生框架
- **状态管理**：全局App数据 + 本地存储
- **网络请求**：wx.request封装
- **图片处理**：腾讯云COS对象存储

---

## 六、数据流程

### 6.1 用户登录流程

```
用户点击登录 → 调用wx.login获取code → 发送code到后端
     ↓
后端用code换取openid/unionid → 查询/创建用户 → 返回用户信息
     ↓
前端保存登录状态 → 更新界面显示
```

### 6.2 AI图片生成流程

```
选择场景 → 上传照片 → 安全检查 → 消费积分
     ↓
调用AI服务 → 等待生成 → 获取结果
     ↓
展示结果 → 保存历史 → 用户下载/分享
```

---

## 七、安全设计

### 7.1 用户认证安全

- 基于微信OAuth2.0的安全认证
- 服务端Session管理
- 敏感操作二次验证

### 7.2 数据传输安全

- 全程HTTPS加密传输
- 请求签名验证
- 防重放攻击

### 7.3 内容安全

- 图片内容安全检测
- 敏感词过滤
- 违规内容拦截

---

## 八、性能优化

### 8.1 资源预加载

- 首页资源预加载
- 图片懒加载
- 配置数据缓存

### 8.2 网络优化

- 请求合并
- 数据压缩
- 断网重连机制

---

## 九、用户界面说明

### 9.1 首页

展示推荐场景和功能入口，包括：
- 轮播图展示热门场景
- 场景分类导航
- 快捷功能入口

### 9.2 场景页

动态渲染场景步骤，支持：
- 步骤进度展示
- 参数选择配置
- 图片上传预览
- 生成按钮触发

### 9.3 历史页

展示用户生成历史：
- 时间线展示
- 缩略图预览
- 操作菜单

### 9.4 个人中心

用户信息和功能入口：
- 用户信息展示
- 积分余额显示
- 功能菜单列表

---

## 十、著作权声明

本软件由开发者独立开发完成，拥有完整的知识产权。软件中使用的所有代码均为原创开发，未使用任何侵犯他人知识产权的内容。

---

**文档编写日期**：2026年1月
**文档版本**：V1.0
